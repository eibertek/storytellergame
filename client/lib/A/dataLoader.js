function TitleScreen(){game.canvas.drawImage(library.loadImages.bcgIntro,0,0,game.canvas.container.width,game.canvas.container.height,{}),game.canvas.drawImage(library.loadImages.logo,1,-30,game.canvas.container.width-10,game.canvas.container.height/2,{}),game.canvas.drawImage(library.loadImages.keysControl,1,200,250,200,{}),game.canvas.drawImage(library.loadImages.btnStart,2*game.canvas.container.width/3,game.canvas.container.height/2,game.canvas.container.width/3,game.canvas.container.height/5,{}),input.setTouchEvents(),input.mobile?input.actions.btnStart===!0?(cancelAnimationFrame(game.renderMainScreen),requestAnimationFrame(game.render)):requestAnimationFrame(game.renderMainScreen):input.mouse.clicked===!0&&input.mouse.x>=game.canvas.container.width/2&&input.mouse.x<=game.canvas.container.width&&input.mouse.y>=game.canvas.container.height/2&&input.mouse.y<=game.canvas.container.height||input.key_code[input.key_enter]===!0?(cancelAnimationFrame(game.renderMainScreen),requestAnimationFrame(game.render)):requestAnimationFrame(game.renderMainScreen)}function loadObjects(){game.addObject(new object("C1",(!0),new game.canvas.vector(350,1),50,60,{ethereal:!0,movable:!0,sprite:{static:!0,img:library.loadImages.trashcan,left:{img:library.loadImages.trashcan,spritesheet:[131,154],idle:[14,1,1],destroy:[4,1,1]},right:{img:library.loadImages.trashcan,spritesheet:[131,154],idle:[14,1,1],destroy:[4,1,1]}}})),game.addObject(new object("C1",(!0),new game.canvas.vector(650,1),50,60,{ethereal:!0,movable:!0,sprite:{static:!0,img:library.loadImages.trashcan,left:{img:library.loadImages.trashcan,spritesheet:[131,154],idle:[14,1,1],destroy:[4,1,1]},right:{img:library.loadImages.trashcan,spritesheet:[131,154],idle:[14,1,1],destroy:[4,1,1]}}})),game.addObject(new object("C1",(!0),new game.canvas.vector(1250,1),50,60,{ethereal:!0,movable:!0,sprite:{static:!0,img:library.loadImages.trashcan,left:{img:library.loadImages.trashcan,spritesheet:[131,154],idle:[14,1,1],destroy:[4,1,1]},right:{img:library.loadImages.trashcan,spritesheet:[131,154],idle:[14,1,1],destroy:[4,1,1]}}}))}function loadCoin(e){game.addCollectable(new collectable("coin",(!0),new game.canvas.vector(e,1),32,32,{ethereal:!0,movable:!0,offset:{x:0,y:0},sprite:{static:!1,img:library.loadImages.coinBig,left:{img:library.loadImages.coinBig,spritesheet:[32,32],idle:[8,1,23],destroy:[8,1,23]},right:{img:library.loadImages.coinBig,spritesheet:[32,32],idle:[8,1,23],destroy:[8,1,23]}},effects:{destroyAfter:!0,callback:function(){var e=Math.floor(500*Math.random());game.score+=e}}}))}function loadLife200(e){game.addCollectable(new collectable("life",(!1),new game.canvas.vector(e,200),30,30,{ethereal:!0,movable:!0,name:"life111",offset:{x:0,y:0},sprite:{static:!0,img:library.loadImages.life,left:{img:library.loadImages.life,spritesheet:[100,100],idle:[28,1,15],destroy:[8,1,15]},right:{img:library.loadImages.life,spritesheet:[96,96],idle:[8,1,15],destroy:[8,1,15]},runOnce:!0},effects:{destroyAfter:!0,callback:function(){game.players[0].life+=600}}}))}function loadBackground(e){"undefined"==typeof e&&(e="#01FBFB"),game.addBackground(new background({image:null,position:new game.canvas.vector(0,0),width:4e3,height:game.canvas.container.height,ethereal:!0,movable:!1,visible:!0,repeatX:!0,speed:2,skyColor:e,background:!0})),game.addBackground(new background({image:library.loadImages.citybackground,position:new game.canvas.vector(0,0),width:4e3,height:game.canvas.container.height,ethereal:!0,movable:!1,visible:!0,repeatX:!0,speed:3,background:!0})),game.addBackground(new background({image:library.loadImages.cityclouds,position:new game.canvas.vector(0,0),width:4e3,height:game.canvas.container.height,ethereal:!0,movable:!1,visible:!0,repeatX:!0,speed:2,background:!0}))}function loadPlayer(){game.addPlayer(new player({name:"Player 1",x:10,y:10,color:"#FF0000",width:40,height:50,life:1e3,attack:20,sprite:{left:{img:library.loadImages.char1,spritesheet:[64,64],idle:[14,91,92],go:[4,146,149],attack:[4,196,200],jump:[4,0,6],hurt:[4,235,236]},right:{img:library.loadImages.char1,spritesheet:[64,64],idle:[14,65,66],go:[4,120,123],attack:[4,170,174],jump:[4,0,6],hurt:[4,235,236]}}}))}function addEnemy(e,a,n,t,i,o){game.addCreature(new creature(null,(!0),new game.canvas.vector(e,a),30,40,{ethereal:!1,movable:!0,visible:!0,creature:!0,life:t,attack:i,enemyVelocity:1.5,objectives:{onDie:o},sprite:{left:{img:n,spritesheet:[64,64],idle:[14,91,92],go:[4,143,151],attack:[4,196,200],jump:[4,0,6],hurt:[4,235,236]},right:{img:n,spritesheet:[64,64],idle:[14,65,66],go:[4,120,125],attack:[4,170,174],jump:[4,0,6],hurt:[4,233,238]}}}))}function addEnemyDialog(e,a,n,t,i){game.addCreature(new creature(null,(!0),new game.canvas.vector(e,a),30,40,{ethereal:!1,movable:!0,visible:!0,creature:!0,life:t,attack:i,enemyVelocity:1.5,objectives:{onDie:function(){loadCoin(this.self.position.x)}},sprite:{left:{img:n,spritesheet:[64,64],idle:[14,91,92],go:[4,143,151],attack:[4,196,200],jump:[4,0,6],hurt:[4,235,236]},right:{img:n,spritesheet:[64,64],idle:[14,65,66],go:[4,120,125],attack:[4,170,174],jump:[4,0,6],hurt:[4,233,238]}}}))}function addBoss(e,a,n,t,i){game.addCreature(new creature(null,(!0),new game.canvas.vector(e,a),70,70,{ethereal:!1,movable:!0,visible:!0,creature:!0,life:n,attack:t,enemyVelocity:1.5,name:"boss",offset:{x:0,y:0},objectives:{onDie:i},sprite:{left:{img:library.loadImages.boss,spritesheet:[80,80],idle:[14,2,3],go:[10,1,5],attack:[10,5,7],jump:[4,27,28],hurt:[4,23,25]},right:{img:library.loadImages.boss,spritesheet:[80,80],idle:[14,27,28],go:[10,24,27],attack:[10,28,30],jump:[40,48,49],hurt:[10,41,43]}}}))}function addSkeleton(e,a,n,t,i){game.addCreature(new creature(null,(!0),new game.canvas.vector(e,a),30,40,{ethereal:!1,movable:!0,visible:!0,creature:!0,life:t,attack:i,enemyVelocity:1.5,sprite:{left:{img:n,spritesheet:[64,64],idle:[14,91,92],go:[4,143,151],attack:[4,91,98],jump:[4,0,6],hurt:[4,235,236]},right:{img:n,spritesheet:[64,64],idle:[14,65,66],go:[4,120,125],attack:[4,65,72],jump:[4,0,6],hurt:[4,233,238]}}}))}function loadLimits(){game.addObject(new object(null,(!0),new game.canvas.vector(0,game.canvas.container.height-40),3*game.canvas.container.width,30,{ethereal:!1,movable:!1,floor:!0})),game.addObject(new object(null,(!0),new game.canvas.vector(0,0),1,game.canvas.container.height,{ethereal:!1,movable:!1,floor:!0,limitWall:!0})),game.addObject(new object(null,(!0),new game.canvas.vector(game.canvas.container.width,0),1,game.canvas.container.height,{ethereal:!1,movable:!1,floor:!0,limitWall:!0}))}function loadControllers(){game.addController(new controllerBox(null,(!1),new game.canvas.vector(0,game.canvas.container.height-100),135,90,{ethereal:!0,movable:!1,sprite:{static:!0,img:library.loadImages.keysControl2,left:{img:library.loadImages.keysControl2,spritesheet:[131,154],idle:[14,1,1],destroy:[4,1,1]},right:{img:library.loadImages.keysControl2,spritesheet:[131,154],idle:[14,1,1],destroy:[4,1,1]}}})),game.addController(new controllerBox(null,(!1),new game.canvas.vector(game.canvas.container.width-70,game.canvas.container.height-70),70,70,{ethereal:!0,movable:!1,sprite:{static:!0,img:library.loadImages.attackButton,left:{img:library.loadImages.attackButton,spritesheet:[131,154],idle:[14,1,1],destroy:[4,1,1]},right:{img:library.loadImages.attackButton,spritesheet:[131,154],idle:[14,1,1],destroy:[4,1,1]}}}))}function instantCinematicObjective(e){validCinematicsData(e)?game.addObjective(new objective(null,(!0),new game.canvas.vector(0,0),0,0,{instant:!0,isCinematic:!0,name:"",cinematicData:e.data,objectives:e.callback,cinematicAction:e.action,frameSpeed:configuration.frameSpeed})):console.log("wrong format",e)}function instantDialogObjective(e,a){game.addObjective(new objective(null,(!0),new game.canvas.vector(0,0),0,0,{instant:!0,isCinematic:!1,name:"",objectives:a,dialog:e,frameSpeed:configuration.frameSpeed}))}function setanswer(e,a,n){return{dialog:e,callback:a,selected:n}}function validCinematicsData(e){return"undefined"!=typeof e.data&&("function"==typeof e.action&&"function"==typeof e.callback)}function instantAnswersObjective(e,a,n){answTemp=[];for(answer in a)answTemp.push({dialog:a[answer].dialog,goto:a[answer].callback,selected:a[answer].selected});game.addObjective(new objective(null,(!0),new game.canvas.vector(0,0),0,0,{instant:!0,isCinematic:!1,name:"",objectives:n,dialog:e,answers:answTemp,frameSpeed:configuration.frameSpeed}))}function cinematicObjective(e,a){validCinematicsData(a)?game.addObjective(new objective(null,(!0),new game.canvas.vector(e,0),60,game.canvas.container.height,{instant:!1,isCinematic:!0,name:"",cinematicData:a.data,objectives:a.callback,cinematicAction:a.action,frameSpeed:configuration.frameSpeed})):console.log("hubo algun error con el objetivo",a)}function dialogObjective(e,a,n){game.addObjective(new objective(null,(!0),new game.canvas.vector(e,0),60,game.canvas.container.height,{instant:!1,isCinematic:!1,name:"",objectives:n,dialog:a,frameSpeed:configuration.frameSpeed}))}function answersObjective(e,a,n,t){answTemp=[];for(answer in n)answTemp.push({dialog:answer.dialog,goto:answer.callback,selected:answer.selected});game.addObjective(new objective(null,(!0),new game.canvas.vector(e,0),60,game.canvas.container.height,{instant:!1,isCinematic:!1,name:"",objectives:t,dialog:a,answers:answTemp,frameSpeed:configuration.frameSpeed}))}function scene1Intro(){if(game.players[0].velX=3,game.players[0].position.x>200)if(game.players[0].velX=0,this.self.cinematicData.bossAdded===!1)addBoss(game.canvas.container.width-100,1,700,20,function(){}),this.self.cinematicData.bossAdded=!0;else if(bossCreature=game.getCreatureByName("boss"),bossCreature.grounded){var e=new sound("sounds/grunting.mp3");e.play(),this.self.finish=!0,answers=[setanswer(languageTranslation.scene1.answers.answer1,scene1answer1,!0),setanswer(languageTranslation.scene1.answers.answer2,scene1answer2,!1),setanswer(languageTranslation.scene1.answers.answer3,scene1answer3,!1)],instantAnswersObjective(languageTranslation.scene1.dialog1,answers,function(){})}}function scene1answer1(){game.sceneActions=function(){},Level0.statusScene1=1,cinematicsData={data:{state:0,bossAdded:!0},action:function(){return bossCreature=game.getCreatureByName("boss"),bossCreature.orientation=constants.RIGHT,bossCreature.velX+=bossCreature.enemyVelocity,bossCreature.position.x>game.canvas.container.height+90&&(game.removeCreature(bossCreature.id),this.self.finish=!0),!0},callback:function(){}},instantDialogObjective(languageTranslation.scene1.dialog2,function(){this.finish=!0,instantCinematicObjective(cinematicsData)})}function scene1answer2(){game.sceneActions=function(){},Level0.statusScene1=2,instantDialogObjective(languageTranslation.scene1.dialog3,function(){bossCreature=game.getCreatureByName("boss"),bossCreature.life*=2,bossCreature.fullLife=bossCreature.life,bossCreature.objectives.onDie=function(){loadCoin(bossCreature.position.x),loadCoin(bossCreature.position.x),loadCoin(bossCreature.position.x),instantDialogObjective(languageTranslation.scene1.dialog5,function(){})},this.finish=!0})}function scene1answer3(){game.sceneActions=function(){},Level0.statusScene1=3,instantDialogObjective(languageTranslation.scene1.dialog4,function(){this.finish=!0})}function removeAll(){game.players=new Array,game.objects=new Array,game.background=new Array,game.objectives=new Array,game.creatures=new Array,game.collectables=new Array}function addFinalBoss(){dialogObjective(1e3,"Now you are Dead!!!",function(){addBoss(200,1,700,20,function(){game.score+=1e3,instantDialogObjective(languageTranslation.scene1.success,function(){Level0.finish=!0,game.statusGame="terminated",this.finish=!0,finishGame(!0)})})})}configuration={frameSpeed:4,visible:!1};var translations={en:{titlePage:"",btnStart:"",Description:"",keyTutorial1:"Move with arrows Keys or awsd, and punch with ´c´ ",keyTutorial2:"Select with arrows key and press enter",keyMTutorial1:"Move with arrows Keys, and punch with the sword icon ",keyMTutorial2:"Select with arrows key and press sword icon",scene1:{dialog1:"HAHAHAHA You think you can Beat me?",answers:{answer1:"Off course I can, Hey Yeah!",answer2:"No, you are too big. PLEASE HELP",answer3:"MOVE INSECT"},dialog2:"Come for me then!",dialog3:"JAJAJAA!",dialog4:"You Imprudent!!",dialog5:"I'll be Back",dialog6:"aarrrghhhh",success:"Level succeed, well done!"}},es:{titlePage:"",btnStart:"",Description:"",keyTutorial1:"Moverse con las flechas o awsd, y golpe con ´c´ ",keyTutorial2:"usa las flechas y seleccciona con enter",scene1:{dialog1:"JAJAJAJ Piensas que puedes vencerme?",answers:{answer1:"Claro que si, date por muerto!",answer2:"No, sos un monstruo, AYUDA!!",answer3:"MUEVETE INSECTO"}}}},languageTranslation=translations.en,Test=function(){this.statusScene1=0,this.finish=!1,this.init=function(){loadBackground(),loadLimits(),loadObjects(),loadPlayer(),input.setTouchEvents(),game.sceneActions=function(){},loadLife200(200),loadCoin(300)},this.init()};Level0=function(){this.statusScene1=0,this.finish=!1,this.init=function(){loadBackground(),loadLimits(),loadObjects(),loadPlayer(),this.scene1(),this.scene2(),this.scene3()},tutorial1="",tutorial2="",game.isMobile()?(tutorial1=languageTranslation.keyMTutorial1,tutorial2=languageTranslation.keyMTutorial2):(tutorial1=languageTranslation.keyTutorial1,tutorial2=languageTranslation.keyTutorial2),this.scene1=function(){game.sceneActions=function(){game.canvas.drawText(tutorial1,{color:"#000",x:game.players[0].position.x,y:game.players[0].position.y-20,font:"20px Arial"})},cinematicObjective(200,{callback:function(){game.sceneActions=function(){game.canvas.drawText(tutorial2,{color:"#000",x:game.players[0].position.x,y:game.players[0].position.y-20,font:"20px Arial"})}},action:scene1Intro,data:{state:0,bossAdded:!1}})},this.scene2=function(){cinematicsData={data:{},action:function(){this.finish=!0;var e=game.players[0].position.x;switch(Level0.statusScene1){case 1:loadLife200(e+50),addEnemy(10,1,library.loadImages.enemy1,20,20,function(){loadCoin(e)}),addEnemy(game.canvas.container.width+10,1,library.loadImages.skeleton,400,20,function(){loadCoin(e)}),addEnemy(game.canvas.container.width+100,1,library.loadImages.enemy2,300,20,function(){loadCoin(e)});break;case 2:addEnemy(10,1,library.loadImages.enemy1,20,20,function(){loadCoin(e),loadLife200(e)}),addEnemy(game.canvas.container.width+10,1,library.loadImages.skeleton,900,20,function(){loadCoin(e),addEnemy(20,1,library.loadImages.enemy2,800,20,function(){loadCoin(e),addEnemy(game.canvas.container.width+100,1,library.loadImages.skeleton,900,20,function(){loadCoin(e)})})});break;case 3:addEnemy(8,1,library.loadImages.enemy1,20,20,function(){loadCoin(20)}),addEnemy(game.canvas.container.width+10,1,library.loadImages.skeleton,900,20,function(){addEnemy(game.canvas.container.width+70,1,library.loadImages.skeleton,900,20,function(){loadCoin(e)}),addEnemy(-10,1,library.loadImages.enemy2,800,20,function(){loadCoin(e),addEnemy(game.canvas.container.width+10,1,library.loadImages.skeleton,900,50,function(){loadCoin(e)})})})}return!0},callback:function(){}},cinematicObjective(game.canvas.container.width+100,cinematicsData)},this.scene3=function(){cinematicsData={data:{time:0},action:function(){return this.finish=!0,instantDialogObjective(languageTranslation.scene1.success,function(){Level0.finish=!0,this.finish=!0,Level1()}),!0},callback:function(){}},cinematicObjective(2*game.canvas.container.width,cinematicsData)},this.init()},Level1=function(){this.statusScene1=0,this.finish=!1,this.init=function(){removeAll(),loadBackground("#FFA500"),loadLimits(),loadObjects(),loadPlayer(),this.scene2()},this.scene2=function(){addEnemy(game.canvas.container.width+30,1,library.loadImages.skeleton,100,50,function(){for(var e=0;e<10;e++)loadCoin(600);addFinalBoss()})},this.init()};
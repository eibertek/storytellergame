function SpriteSheet(e,i,t){this.image=e,this.frameWidth=i,this.frameHeight=t;var a=this;a.framesPerRow=Math.floor(a.image.width/a.frameWidth)}function Animation(e,i,t,a,n){var f=[],r=0,h=0;this.endAnimation=!1,this.debugInfo=[],self=this;for(var o="undefined"!=typeof n&&n,m=t;m<=a;m++)f.push(m);this.update=function(){return o&&self.endAnimation?(self.debugInfo=[self.endAnimation,r,a],!1):(h==i-1&&(r=(r+1)%f.length),h=(h+1)%i,void(r==a-1&&(self.endAnimation=!0)))},this.draw=function(i,t){var a=Math.floor(f[r]/e.framesPerRow),n=Math.floor(f[r]%e.framesPerRow);game.canvas.drawSpriteImage(e.image,n*e.frameWidth,a*e.frameHeight,e.frameWidth,e.frameHeight,i,t,e.frameWidth,e.frameHeight)},this.reset=function(){self.endAnimation=!1,r=0,h=0}}
function startGame(){game.enableInput(),window.addEventListener("load",function(){game.render()})}function finishGame(e){game.disableInput(),game.canvas.ctx.clearRect(0,0,game.canvas.container.width,game.canvas.container.height),e!==!0?(game.canvas.drawText("Te moriste...",{color:"#000",x:game.canvas.container.width/3}),game.canvas.drawText("Habia muy pocas posibilidades",{color:"#FF0000",font:"20px Arial",x:game.canvas.container.width/3,y:game.canvas.container.height/2+50}),game.canvas.drawText("pero lo lograste, felicitaciones ;) ",{color:"#FF0000",font:"20px Arial",x:game.canvas.container.width/3,y:game.canvas.container.height/2+70})):(window.cancelAnimationFrame(game.render),game.canvas.drawText("Finish!!",{color:"#000",x:game.canvas.container.width/3}),game.canvas.drawText("Ganaste!!!",{color:"#00FF00",x:game.canvas.container.width/3,y:game.canvas.container.height/2+50}))}function addEnemy(e,a){game.addCreature(new creature(null,(!0),new game.canvas.vector(e,a),30,40,{ethereal:!1,movable:!0,visible:!0,creature:!0,life:1e3,enemyVelocity:1.5,sprite:{left:{img:charSprite2,spritesheet:[64,64],idle:[14,91,92],go:[4,143,151],attack:[4,196,200],jump:[4,0,6],hurt:[4,235,236]},right:{img:charSprite2,spritesheet:[64,64],idle:[14,65,66],go:[4,120,125],attack:[4,170,174],jump:[4,0,6],hurt:[4,233,238]}}})),enemycreated=!0}function loadImages(e,a){var n={},t=0,i=0;for(var o in e)i++;for(var o in e)n[o]=new Image,n[o].onload=function(){++t>=i&&a(n)},n[o].src=e[o]}!function(){var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;window.requestAnimationFrame=e}(),game.setCanvas(new canvasClass("canvas_ppg")),game.addObject(new object(null,(!0),new game.canvas.vector(0,game.canvas.container.height-40),3*game.canvas.container.width,30,{ethereal:!1,movable:!1,floor:!0})),game.addObject(new object(null,(!0),new game.canvas.vector(0,0),1,game.canvas.container.height,{ethereal:!1,movable:!1,floor:!0,limitWall:!0})),game.addObject(new object(null,(!0),new game.canvas.vector(game.canvas.container.width,0),1,game.canvas.container.height,{ethereal:!1,movable:!1,floor:!0,limitWall:!0}));var trashcan=new Image;trashcan.src="img/trashcan.PNG",trashcan.onload=function(){game.addObject(new object("C1",(!0),new game.canvas.vector(350,(-150)),50,60,{ethereal:!0,movable:!0,sprite:{static:!0,img:trashcan,left:{img:trashcan,spritesheet:[131,154],idle:[14,1,1],destroy:[4,1,1]},right:{img:trashcan,spritesheet:[131,154],idle:[14,1,1],destroy:[4,1,1]}}}))};var fondo=new Image;fondo.src="img/citybackground.png";var fondo2=new Image;fondo2.src="img/cityclouds.png",fondo.onload=function(){game.addBackground(new background({image:null,position:new game.canvas.vector(0,0),width:4e3,height:game.canvas.container.height,ethereal:!0,movable:!1,visible:!0,repeatX:!0,speed:2,background:!0})),game.addBackground(new background({image:fondo,position:new game.canvas.vector(0,0),width:4e3,height:game.canvas.container.height,ethereal:!0,movable:!1,visible:!0,repeatX:!0,speed:3,background:!0})),game.addBackground(new background({image:fondo2,position:new game.canvas.vector(0,0),width:4e3,height:game.canvas.container.height,ethereal:!0,movable:!1,visible:!0,repeatX:!0,speed:2,background:!0})),game.addObject(new object(null,(!0),new game.canvas.vector(4e3,0),20,game.canvas.container.height,{ethereal:!1,movable:!1,visible:!1})),game.addObjective(new objective(null,(!0),new game.canvas.vector(1e3,135),300,425,{ethereal:!0,movable:!1,visible:!1,objectives:function(){},dialog:"Bueno, pasaste a los malos, ya fue ;)",answers:[{dialog:"Y era obvio papaaaa",goto:function(){game.addObjective(new objective(null,(!0),new game.canvas.vector(400,135),250,425,{ethereal:!0,movable:!1,visible:!1,objectives:function(){addEnemy(1,1)},dialog:"Ahora por nabo, te mando un loco ",frameSpeed:6}))},selected:!0},{dialog:"No se eh, siempre hay maldad en el frente",goto:function(){game.addObjective(new objective(null,(!0),new game.canvas.vector(400,135),250,425,{ethereal:!0,movable:!1,visible:!1,objectives:function(){},dialog:"Te dije que era una beta cheeee   ",frameSpeed:6}))},selected:!1},{dialog:"Posta? no vi a nadie",goto:0,selected:!1}],frameSpeed:2})),game.addObjective(new objective(null,(!0),new game.canvas.vector(2200,135),300,425,{ethereal:!0,movable:!1,visible:!1,dialog:"BETA!!! BETA!!! BETA!!!",objectives:function(){setTimeout(finishGame(!0),1e4)}}))};var charSprite=new Image;charSprite.src="img/char1.png";var enemycreated=!1;charSprite.onload=function(){game.addPlayer(new player({name:"Player 1",x:10,y:10,color:"#FF0000",width:40,height:50,life:1e3,attack:20,sprite:{left:{img:charSprite,spritesheet:[64,64],idle:[14,91,92],go:[4,146,149],attack:[4,196,200],jump:[4,0,6],hurt:[4,235,236]},right:{img:charSprite,spritesheet:[64,64],idle:[14,65,66],go:[4,120,123],attack:[4,170,174],jump:[4,0,6],hurt:[4,235,236]}}}))};var charSprite2=new Image;charSprite2.src="img/enemy1.png",charSprite2.onload=function(){addEnemy(500,1)};var handlerKeyDown=function(e){input.onKeyDown(e)},handlerKeyUp=function(e){input.onKeyUp(e)};startGame();